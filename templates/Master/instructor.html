{% extends 'layout.html' %}
{% block content %}
<h2>Instructor Master</h2>
<br />
<br />
<style>
    .card.height-equal {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .row.g-3 {
        flex: 1; /* Ensures content fills available space proportionally */
    }
</style>
<form action="{% url 'instructorMaster' %}" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="col-xl-12" style="height: auto;">
    <div class="card height-equal">
        <div class="card-header pb-0">
            <h4 style="margin-bottom:20px">Personal Information</h4>
        </div>
        <div class="card-body custom-input">
            <div class="row g-3">
                <!-- First Row -->
                <div class="col-md-4" style="margin-bottom:20px">
                    <label class="form-label" for="instructor-name">Instructor Name</label>
                    <input class="form-control"
                           id="instructor-name"
                           name="instructor_name"
                           type="text"
                           placeholder="Name"
                           aria-label="Name"
                           max-length="50"
                           pattern="^[A-Za-z .]+$"
                           required />
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="dob">Date of Birth</label>
                    <input class="form-control"
                           id="dob"
                           name="dob"
                           type="date"
                           required />
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="gender">Gender</label>
                    <select class="form-select"
                            id="gender"
                            name="gender"
                            required>
                        <option value="" disabled selected>Select Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <!-- Second Row -->
                <div class="col-md-4" style="margin-bottom:20px">
                    <label class="form-label" for="phone-number">Phone Number</label>
                    <input class="form-control"
                           id="phone-number"
                           name="phone_number"
                           type="tel"
                           placeholder="Phone Number"
                           aria-label="Phone Number"
                           max-length="10"
                           pattern="^\d{10}$"
                           required />
                </div>

                <div class="col-md-4">
                    <label class="form-label" for="email">Email</label>
                    <input class="form-control"
                           id="email"
                           name="email"
                           type="email"
                           placeholder="Email"
                           aria-label="Email"
                           pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                           max-length="50"
                           required />
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="current-status">Current Status</label>
                    <select class="form-select"
                            id="current-status"
                            name="current_status"
                            required>
                        <option value="" disabled selected>Select Current Status</option>
                        <option value="employed">Employed</option>
                        <option value="unemployed">Unemployed</option>
                        <option value="government">Government Worker</option>
                    </select>
                </div>

                <div class="col-md-4" style="margin-bottom:20px">
                    <label class="form-label" for="pan-number">PAN Number</label>
                    <input class="form-control"
                           id="pan-number"
                           name="pan_number"
                           type="text"
                           placeholder="PAN Number"
                           aria-label="PAN Number"
                           maxlength="10"
                           pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"
                           title="PAN should be in the format: 5 uppercase letters, 4 digits, and 1 uppercase letter (e.g., ABCDE1234F)"
                           required />
                </div>

                <div class="col-md-4">
                    <label class="form-label" for="aadhar-number">Aadhar Number</label>
                    <input class="form-control"
                           id="aadhar-number"
                           name="aadhar_number"
                           type="text"
                           placeholder="Aadhar Number"
                           aria-label="Aadhar Number"
                           maxlength="12"
                           pattern="[0-9]{12}"
                           title="Aadhar should be a 12-digit number"
                           required />
                </div>

                <div class="col-md-4">
                    <label class="form-label" for="epf-number">EPF Number (Optional)</label>
                    <input class="form-control"
                           id="epf-number"
                           name="epf_number"
                           type="text"
                           placeholder="EPF Number"
                           aria-label="EPF Number"
                           maxlength="22"
                           pattern="[A-Z]{2}[A-Z0-9]{3}[0-9]{7}[A-Z]{1}[0-9]{3}[A-Z]{1}" />
                </div>

                <!-- Social Media Links -->
                <div class="col-md-4">
                    <label class="form-label" for="facebook-link">Facebook Profile Link</label>
                    <input class="form-control"
                           id="facebook-link"
                           name="facebook_link"
                           type="url"
                           placeholder="Facebook Profile Link"
                           aria-label="Facebook Link" />
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="twitter-link">Twitter Profile Link</label>
                    <input class="form-control"
                           id="twitter-link"
                           name="twitter_link"
                           type="url"
                           placeholder="Twitter Profile Link"
                           aria-label="Twitter Link" />
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="instagram-link">Instagram Profile Link</label>
                    <input class="form-control"
                           id="instagram-link"
                           name="instagram_link"
                           type="url"
                           placeholder="Instagram Profile Link"
                           aria-label="Instagram Link" />
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="youtube-link">YouTube Channel Link</label>
                    <input class="form-control"
                           id="youtube-link"
                           name="youtube_link"
                           type="url"
                           placeholder="YouTube Channel Link"
                           aria-label="YouTube Link" />
                </div>
                <div class="col-8">
                    <label class="form-label" for="about-you">About You</label>
                    <textarea class="form-control"
                              id="about-you"
                              name="about_you"
                              rows="4"
                              placeholder="Write a brief description about yourself"
                              aria-label="About You"
                              required ></textarea>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="row" style="margin-top: 20px;">
    <!-- Address Information Section -->
    <div class="col-md-6">
        <div class="card height-equal">
            <div class="card-header pb-0">
                <h4 style="margin-bottom: 20px;">Address Information</h4>
            </div>
            <div class="card-body custom-input">
                <div class="row g-3">
                    <!-- Address Fields -->
                    <div class="col-12">
                        <label class="form-label" for="house-no">House/Flat No</label>
                        <input class="form-control"
                               id="house-no"
                               name="house_no"
                               type="text"
                               placeholder="House or Flat No"
                               maxlength="100"
                               pattern="^[a-zA-Z ,.-/]+$"
                               required />
                    </div>
                    <div class="col-12">
                        <label class="form-label" for="area-street">Area/Street Name</label>
                        <input class="form-control"
                               id="area-street"
                               name="area_street"
                               type="text"
                               placeholder="Area or Street Name"
                               maxlength="100"
                               pattern="^[a-zA-Z ,.-/]+$"
                               required />
                    </div>
                    <div class="col-12">
                        <label class="form-label" for="city">City</label>
                        <input class="form-control"
                               id="city"
                               name="city"
                               type="text"
                               placeholder="City"
                               maxlength="25"
                               pattern="^[a-zA-Z ]+$"
                               required />
                    </div>
                    <div class="col-12">
                        <label class="form-label" for="state">State</label>
                        <input class="form-control"
                               id="state"
                               name="state"
                               type="text"
                               placeholder="State"
                               maxlength="25"
                               pattern="^[a-zA-Z ]+$"
                               required />
                    </div>
                    <div class="col-12">
                        <label class="form-label" for="country">Country</label>
                        <input class="form-control"
                               id="country"
                               name="country"
                               type="text"
                               placeholder="Country"
                               maxlength="25"
                               pattern="^[a-zA-Z ]+$"
                               required />
                    </div>
                    <div class="col-12">
                        <label class="form-label" for="pincode">Pincode</label>
                        <input class="form-control"
                               id="pincode"
                               name="pincode"
                               type="text"
                               placeholder="Pincode"
                               maxlength="6"
                               pattern="^\d{6}$"
                               title="Enter a valid 6-digit pincode"
                               required />
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-6">
    <div class="card height-equal">
        <div class="card-header pb-0">
            <h4 style="margin-bottom: 20px;">Business or Company Information</h4>
        </div>
        <div class="card-body custom-input">
            <div class="row g-3">
                <!-- Business Name -->
                <div class="col-12">
                    <label class="form-label" for="business-name">Business/Company Name</label>
                    <input class="form-control"
                           id="business-name"
                           name="business_name"
                           type="text"
                           placeholder="Business or Company Name"
                           maxlength="100"
                           pattern="^[a-zA-Z0-9 ,.-/]+$"
                           title="Only letters, numbers, and basic characters (,.-/) are allowed" />
                </div>
                <!-- Business Type -->
                <div class="col-12">
                    <label class="form-label" for="business-type">Business/Company Type</label>
                    <select class="form-select"
                            id="business-type"
                            name="business_type"
                            >
                        <option value="" disabled selected>Select Business/Company Type</option>
                        <option value="service">Service</option>
                        <option value="manufacturing">Manufacturing</option>
                    </select>
                </div>
                <!-- Business Address -->
                <div class="col-12">
                    <label class="form-label" for="business-address">Business/Company Address</label>
                    <input class="form-control"
                           id="business-address"
                           name="business_address"
                           type="text"
                           placeholder="Business or Company Address"
                           maxlength="200"
                           pattern="^[a-zA-Z0-9 ,.-/]+$"
                           title="Only letters, numbers, and basic characters (,.-/) are allowed"
                           />
                </div>
                <!-- Product Name -->
                <div class="col-12">
                    <label class="form-label" for="product-name">Product Name</label>
                    <input class="form-control"
                           id="product-name"
                           name="product_name"
                           type="text"
                           placeholder="Product Name"
                           maxlength="100"
                           pattern="^[a-zA-Z0-9 ,.-]+$"
                           title="Only letters, numbers, and basic characters (,.-) are allowed"
                           />
                </div>
            </div>
        </div>
    </div>
    
</div>


<div class="row" style="margin-top: 20px;">
    <!-- Education Information Section -->
    <div class="col-md-6">
        <div class="card height-equal">
            <div class="card-header pb-0">
                <h4 style="margin-bottom: 20px;">Education Information</h4>
            </div>
            <p style="color: red; margin-left: 20px; margin-top: 20px;">
                Note: Enter your latest education qualification
            </p>
            <div class="card-body custom-input">
                <div class="row g-3">
                    <!-- Institution Name -->
                    <div class="col-12">
                        <label class="form-label" for="institution-name">Institution Name</label>
                        <input class="form-control"
                               id="institution-name"
                               name="institution_name"
                               type="text"
                               placeholder="Institution Name"
                               maxlength="100"
                               pattern="^[a-zA-Z0-9 ,.-/]+$"
                               title="Only letters, numbers, and special characters (,.-/) are allowed"
                               required />
                    </div>
                    <!-- Degree -->
                    <div class="col-12">
                        <label class="form-label" for="degree">Degree</label>
                        <input class="form-control"
                               id="degree"
                               name="degree"
                               type="text"
                               placeholder="Degree"
                               maxlength="50"
                               pattern="^[a-zA-Z ,.-/]+$"
                               title="Only letters and basic characters (,.-/) are allowed"
                               required />
                    </div>
                    <!-- Percentage -->
                    <div class="col-12">
                        <label class="form-label" for="percentage">Percentage</label>
                        <input class="form-control"
                               id="percentage"
                               name="percentage"
                               type="text"
                               placeholder="Percentage"
                               maxlength="5"
                               pattern="^(100|[1-9]?[0-9](\.[0-9]{1,2})?)$"
                               title="Enter a valid percentage (e.g., 85 or 85.50)"
                               required />
                    </div>
                    <!-- Passed Out Year -->
                    <div class="col-12">
                        <label class="form-label" for="passed-out-year">Passed Out Year</label>
                        <select class="form-select"
                                id="passed-out-year"
                                name="passed_out_year"
                                required>
                            <option value="" disabled selected>Select Passed Out Year</option>
                            <!-- Populate options dynamically -->
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bank Information Section -->
<div class="col-md-6">
    <div class="card height-equal">
        <div class="card-header pb-0">
            <h4 style="margin-bottom: 20px;">Bank Information</h4>
        </div>
        <div class="card-body custom-input">
            <div class="row g-3">
                <!-- Bank Fields -->
                <div class="col-12">
                    <label class="form-label" for="bank-name">Bank Name</label>
                    <input class="form-control"
                           id="bank-name"
                           name="bank_name"
                           type="text"
                           placeholder="Bank Name"
                           maxlength="100"
                           pattern="^[a-zA-Z ,.-]+$"
                           title="Only letters and basic characters (,.-) are allowed"
                           required />
                </div>
                <div class="col-12">
                    <label class="form-label" for="branch-name">Branch Name</label>
                    <input class="form-control"
                           id="branch-name"
                           name="branch_name"
                           type="text"
                           placeholder="Branch Name"
                           maxlength="100"
                           pattern="^[a-zA-Z ,.-]+$"
                           title="Only letters and basic characters (,.-) are allowed"
                           required />
                </div>
                <div class="col-12">
                    <label class="form-label" for="ifsc-code">IFSC Code</label>
                    <input class="form-control"
                           id="ifsc-code"
                           name="ifsc_code"
                           type="text"
                           placeholder="IFSC Code"
                           maxlength="11"
                           pattern="^[A-Z]{4}0[A-Z0-9]{6}$"
                           title="Enter a valid IFSC code (e.g., ABCD0123456)"
                           required />
                </div>
                <div class="col-12">
                    <label class="form-label" for="micr-code">MICR Code</label>
                    <input class="form-control"
                           id="micr-code"
                           name="micr_code"
                           type="text"
                           placeholder="MICR Code"
                           maxlength="9"
                           pattern="^[0-9]{9}$"
                           title="Enter a valid 9-digit MICR code"
                           required />
                </div>
                <div class="col-12">
                    <label class="form-label" for="account-number">Account Number</label>
                    <input class="form-control"
                           id="account-number"
                           name="account_number"
                           type="text"
                           placeholder="Account Number"
                           maxlength="18"
                           pattern="^[0-9]{9,18}$"
                           title="Account Number should be 9 to 18 digits long"
                           required />
                </div>
            </div>
        </div>
    </div>
</div>
</div>



<!-- Upload Section -->
<div class="col-xl-12" style="margin-top: 20px;">
    <div class="card" style="height: auto;">
        <div class="card-header pb-0">
            <h4 style="margin-bottom:20px">Upload Section</h4>
        </div>
        <div class="card-body custom-input">
            <div class="row g-3">
                <!-- Profile Photo -->
                <div class="col-md-4">
                    <label class="form-label" for="profile-photo">Profile Photo (Max 1MB)</label>
                    <input class="form-control"
                           id="profile-photo"
                           name="profile_photo"
                           type="file"
                           accept="image/*"
                           onchange="validateFileSize(this, 1)"
                           required />
                </div>
                <!-- Resume -->
                <div class="col-md-4">
                    <label class="form-label" for="resume">Resume (PDF, Max 1MB)</label>
                    <input class="form-control"
                           id="resume"
                           name="resume"
                           type="file"
                           accept="application/pdf"
                           onchange="validateFileSize(this, 1)"
                           required />
                </div>
                <!-- PAN Card -->
                <div class="col-md-4">
                    <label class="form-label" for="pan-card">PAN Card (Max 500KB)</label>
                    <input class="form-control"
                           id="pan-card"
                           name="pan_card"
                           type="file"
                           accept="image/*,application/pdf"
                           onchange="validateFileSize(this, 0.5)"
                           required />
                </div>
                <!-- Aadhar Card -->
                <div class="col-md-4">
                    <label class="form-label" for="aadhar-card">Aadhar Card (Max 500KB)</label>
                    <input class="form-control"
                           id="aadhar-card"
                           name="aadhar_card"
                           type="file"
                           accept="image/*,application/pdf"
                           onchange="validateFileSize(this, 0.5)"
                           required />
                </div>
                <!-- Bank Passbook Photo -->
                <div class="col-md-4">
                    <label class="form-label" for="bank-passbook">Bank Passbook Photo (Max 500KB)</label>
                    <input class="form-control"
                           id="bank-passbook"
                           name="bank_passbook"
                           type="file"
                           accept="image/*"
                           onchange="validateFileSize(this, 0.5)"
                           required />
                </div>
            </div>
        </div>
    </div>
</div>


<div class="submit-form" style="margin-top:0;padding-top:0">
    <div class="submit" style="text-align:right; margin-right: 100px">
        <button class="btn btn-primary" type="submit">Submit Form</button>
    </div>
</div>

</form>



<script>
    
    function validateFileSize(input, maxSizeMB) {
        const file = input.files[0];
        if (file && file.size > maxSizeMB * 1024 * 1024) {
            alert(`File size exceeds the maximum limit of ${maxSizeMB} MB.`);
            input.value = ""; // Reset the input
        }
    }
</script>

<script>
    // Populate the Passed Out Year dropdown
    const yearDropdown = document.getElementById('passed-out-year');
    const startYear = 1900; // Starting year
    const endYear = 2099;   // Ending year
    const currentYear = new Date().getFullYear();

    for (let year = startYear; year <= endYear; year++) {
        const option = document.createElement('option');
        option.value = year;
        option.textContent = year;
        yearDropdown.appendChild(option);
    }
</script>
{% endblock %}
